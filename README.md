Тестовое задание для ООО "Фабрика Решений"

Задача:
Необходимо разработать сервис управления рассылками API администрирования и получения статистики.

Описание:
Необходимо реализовать методы создания новой рассылки, просмотра созданных и получения статистики по выполненным рассылкам.
Реализовать сам сервис отправки уведомлений на внешнее API.

Спроектировать и разработать сервис, который по заданным правилам запускает рассылку по списку клиентов. Разработать сущности "рассылка", "клиент", "сообщение".
Спроектировать и реализовать API для:
•добавления нового клиента в справочник со всеми его атрибутами
•обновления данных атрибутов клиента
•удаления клиента из справочника
•добавления новой рассылки со всеми её атрибутами
•получения общей статистики по созданным рассылкам
•получения детальной статистики отправленных сообщений по конкретной рассылке
•обновления атрибутов рассылки
•удаления рассылки
•обработки активных рассылок и отправки сообщений клиентам

Логика рассылки:
•После создания новой рассылки, если текущее время больше времени начала и меньше времени окончания - должны быть выбраны из справочника все клиенты, которые подходят под значения фильтра, указанного в этой рассылке и запущена отправка для всех этих клиентов.
•Если создаётся рассылка с временем старта в будущем - отправка должна стартовать автоматически по наступлению этого времени без дополнительных действий со стороны пользователя системы.
•По ходу отправки сообщений должна собираться статистика по каждому сообщению для последующего формирования отчётов.
•Внешний сервис, который принимает отправляемые сообщения, может долго обрабатывать запрос, отвечать некорректными данными, на какое-то время вообще не принимать запросы. Необходимо реализовать корректную обработку подобных ошибок. Проблемы с внешним сервисом не должны влиять на стабильность работы разрабатываемого сервиса рассылок.

API внешнего сервиса отправки:
Для интеграции с разрабатываемым проектом в данном задании существует внешний сервис, который может принимать запросы на отправку сообщений в сторону клиентов.
В этом API предполагается аутентификация с использованием JWT. Токен доступа предоставлен вам вместе с тестовым заданием.

Реализация:
После запуска программы при отправке POST запросов с данными рассылки по адресу http://localhost:8080/mailingList в базе данных создается новая рассылка. При отправке PUT или DELETE запросов по адресу http://localhost:8080/mailingList/id 
происходит обновление данных рассылки с переданным id или удаление рассылки с переданным id соответственно.
При отправке POST запросов с данными клиента по адресу http://localhost:8080/client в базе данных создается новый клиент. При отправке PUT или DELETE запросов по адресу http://localhost:8080/client/id происходит обновление данных клиента с переданным id или удаление клиента с переданным id соответственно.
После запуска программы при создании новых рассылок происходит их отправка в двух случаях: 
1)если текущее время больше времени начала и меньше времени окончания; 
2)если рассылка создается с временем старта в будущем.
Также Quartz срабатывает с ежечасной задачей отправки подходящих рассылок, которые не были отправлены ранее.  
Каждая рассылка формирует и отправляет запрос на API. 
По адресу http://localhost:8080/stats представлена статистика всех сообщений. По адресу http://localhost:8080/stats/id представлена статистика всех сообщений рассылки с конкретным id.
По адресу http://localhost:8080/api-docs представлена автоматически сгенерированная спецификация OpenAPI 3 для реализованного API.

Используемые технологии: Java, база данных PostgreSQL, фреймворк Spring Boot 2.6.7, фреймворк Quartz в качестве планировщика заданий.

Запуск:
Необходимо изменить значения user, password и url в файле конфигурации на собственные для своей базы данных.
Затем выполнить команду mvn clean spring-boot:run
